<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftBuy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="header-container">
    <h1 style="font-family: 'Cormorant Garamond', Georgia, serif; font-weight: 600; font-style: italic;">SwiftBuy</h1>
    <h2 style="font-family: 'Cormorant Garamond', Georgia, serif; font-weight: 600;">+375333457485</h2>
</div>

<nav>
    <a href="#" >Главная</a>
    <a href="#">Магазин</a>
    <a href="#">Доставка и оплата</a>
    <a href="#">О нас</a>
    <a href="#">Поиск</a>
    <a href="#"><input type="text" name="Search" size="20" maxlength="20" placeholder="Поиск товаров..."></a>
</nav>

<div class="Title">
    SwiftBuy
</div>

<div class="description">
Основанные на передовых технологиях и инновационных решениях, устройства SwiftBuy позволяют вам пользоваться последними достижениями технического прогресса вместе с проверенной надежностью ведущих мировых брендов. Каждое устройство в нашем каталоге проходит многоуровневую проверку качества, что гарантирует безупречную работу и долговечность эксплуатации.
</div>

<!-- ОСНОВНОЙ КОНТЕЙНЕР С ФИЛЬТРАМИ И КАРТОЧКАМИ -->
<div class="main-content-wrapper">
    <!-- ЛЕВАЯ КОЛОНКА С ФИЛЬТРАМИ -->
    <div class="filters-container">
        <div class="CheckBox">
            <h1>Назначение</h1>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="computers" onchange="filterProducts()">
                    <label for="computers">Компьютеры и ноутбуки</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="smartphones" onchange="filterProducts()">
                    <label for="smartphones">Смартфоны и планшеты</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="tv" onchange="filterProducts()">
                    <label for="tv">Телевизоры и аудио</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="kitchen" onchange="filterProducts()">
                    <label for="kitchen">Кухонная техника</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="home" onchange="filterProducts()">
                    <label for="home">Техника для дома</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="gaming" onchange="filterProducts()">
                    <label for="gaming">Игры и развлечения</label>
                </div>
            </div>

            <hr>

            <h2>Тип техники</h2>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="laptops" onchange="filterProducts()">
                    <label for="laptops">Ноутбуки</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="smartphones_type" onchange="filterProducts()">
                    <label for="smartphones_type">Смартфоны</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="tablets" onchange="filterProducts()">
                    <label for="tablets">Планшеты</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="tvs" onchange="filterProducts()">
                    <label for="tvs">Телевизоры</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="headphones" onchange="filterProducts()">
                    <label for="headphones">Наушники</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="refrigerators" onchange="filterProducts()">
                    <label for="refrigerators">Холодильники</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="washing" onchange="filterProducts()">
                    <label for="washing">Стиральные машины</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="consoles" onchange="filterProducts()">
                    <label for="consoles">Игровые консоли</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="cameras" onchange="filterProducts()">
                    <label for="cameras">Фотоаппараты</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="accessories" onchange="filterProducts()">
                    <label for="accessories">Аксессуары</label>
                </div>
            </div>
        </div>
    </div>

    <!-- ПРАВАЯ КОЛОНКА С КАРТОЧКАМИ -->
    <div class="products-container">
        <div class="products-grid" id="products-grid">
            <!-- Карточки будут загружаться динамически -->
            <div class="loading">Загрузка товаров...</div>
        </div>
    </div>
</div>

<script>
// Функция для загрузки товаров
async function loadProducts() {
    try {
        const response = await fetch('http://localhost:3000/products');
        const products = await response.json();
        displayProducts(products);
    } catch (error) {
        console.error('Ошибка при загрузке товаров:', error);
        document.getElementById('products-grid').innerHTML = 
            '<div class="error">Ошибка загрузки товаров. Проверьте подключение к серверу.</div>';
    }
}

// Функция для отображения товаров
function displayProducts(products) {
    const productsGrid = document.getElementById('products-grid');
    
    if (!products || products.length === 0) {
        productsGrid.innerHTML = '<div class="no-products">Товары не найдены</div>';
        return;
    }

    productsGrid.innerHTML = products.map(product => `
        <div class="product-card">
            <div class="product-image">
                <img src="${product.image_url || 'https://via.placeholder.com/200x250?text=No+Image'}" alt="${product.name}">
            </div>
            <div class="product-content">
                <div class="product-category">${product.category || 'Электроника'}</div>
                <h3 class="product-title">${product.name}</h3>
                <div class="product-description">${product.description || ''}</div>
                <div class="product-features">
                    <span class="feature">Арт: ${product.article}</span>
                    ${product.supplier ? `<span class="feature">${product.supplier}</span>` : ''}
                    ${product.quantity ? `<span class="feature">В наличии: ${product.quantity}</span>` : ''}
                </div>
                <div class="product-price">
                    <span class="current-price">${product.price ? product.price + ' руб.' : 'Цена не указана'}</span>
                </div>
                <button class="add-to-cart-btn" onclick="addToCart(${product.id})">В корзину</button>
            </div>
        </div>
    `).join('');
}

// Функция для фильтрации товаров (упрощенная версия)
async function filterProducts() {
    // В этой версии просто перезагружаем все товары
    // В реальном приложении можно добавить фильтрацию на сервере
    loadProducts();
}

// Функция добавления в корзину
function addToCart(productId) {
    // Здесь можно добавить логику для корзины
    alert('Товар добавлен в корзину! ID: ' + productId);
    
    // Пример сохранения в localStorage
    let cart = JSON.parse(localStorage.getItem('cart') || '[]');
    cart.push(productId);
    localStorage.setItem('cart', JSON.stringify(cart));
}

// Поиск товаров
function setupSearch() {
    const searchInput = document.querySelector('input[name="Search"]');
    searchInput.addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        // Здесь можно добавить логику поиска
        console.log('Поиск:', searchTerm);
    });
}

// Загружаем товары при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    loadProducts();
    setupSearch();
});
</script>

</body>
</html>